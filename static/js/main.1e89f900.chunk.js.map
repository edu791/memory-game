{"version":3,"sources":["components/Board.tsx","card-values.ts","components/Card.tsx","components/Game.tsx","App.tsx","reportWebVitals.ts","index.tsx","components/Game.module.css","components/Card.module.css","components/Board.module.css"],"names":["ActionType","cardValues","groupId","content","Card","props","matchResult","data","styles","className","card","onClick","isSelected","onSelect","id","isMatched","reducer","state","action","type","SetInitialValues","console","log","cards","payload","values","map","value","Math","round","random","isSelecting","isComparing","SelectCard","updatedCards","selectedCards","filter","length","CompareCards","ClearSelection","Board","onMakeMovement","onFinished","useReducer","dispatch","onSelectCardHandler","useEffect","initialValues","setTimeout","i","getRandomInitialValues","concat","sort","Game","useState","movementsMade","setMovementsMade","gameFinished","setGameFinished","setInitialValues","makeMovementHandler","useCallback","previous","finishedHandler","clickRestartButtonHandler","game","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.1e89f900.chunk.js","sourcesContent":["import styles from \"./Board.module.css\";\nimport Card from \"./Card\";\nimport { useEffect, useReducer } from \"react\";\nimport { CardObject } from \"../types\";\nimport { CardValue } from \"../card-values\";\n\ntype BoardState = {\n  cards: CardObject[];\n  isSelecting: boolean;\n  isComparing: boolean;\n};\n\nenum ActionType {\n  SetInitialValues,\n  SelectCard,\n  CompareCards,\n  ClearSelection,\n}\n\ntype SetInitialValues = {\n  type: ActionType.SetInitialValues;\n  payload: { values: CardValue[] };\n};\n\ntype SelectCard = {\n  type: ActionType.SelectCard;\n  payload: { id: number };\n};\n\ntype CompareCards = {\n  type: ActionType.CompareCards;\n};\n\ntype ClearSelection = {\n  type: ActionType.ClearSelection;\n};\n\ntype ReducerActions =\n  | SetInitialValues\n  | SelectCard\n  | CompareCards\n  | ClearSelection;\n\nfunction reducer(state: BoardState, action: ReducerActions): BoardState {\n  switch (action.type) {\n    case ActionType.SetInitialValues: {\n      console.log(\"Set initial values\");\n      return {\n        cards: action.payload.values.map((value) => ({\n          ...value,\n          id: Math.round(Math.random() * 1000000),\n          isSelected: false,\n          isMatched: false,\n          matchResult: null,\n        })),\n        isSelecting: false,\n        isComparing: false,\n      };\n    }\n    case ActionType.SelectCard: {\n      console.log(\"Select card\");\n      const updatedCards = state.cards.map((card) =>\n        card.id === action.payload.id ? { ...card, isSelected: true } : card\n      );\n      const selectedCards = updatedCards.filter((card) => card.isSelected);\n      return {\n        cards: updatedCards,\n        isSelecting: true,\n        isComparing: selectedCards.length === 2,\n      };\n    }\n    case ActionType.CompareCards: {\n      const selectedCards = state.cards.filter((card) => card.isSelected);\n      console.log(\"Comparing selected cards\", selectedCards);\n      if (selectedCards[0].groupId === selectedCards[1].groupId) {\n        console.log(\"Match\");\n        selectedCards[0].isMatched = true;\n        selectedCards[0].matchResult = \"success\";\n        selectedCards[1].isMatched = true;\n        selectedCards[1].matchResult = \"success\";\n      } else {\n        console.log(\"Don't match\");\n        selectedCards[0].matchResult = \"failed\";\n        selectedCards[1].matchResult = \"failed\";\n      }\n\n      return {\n        cards: state.cards,\n        isSelecting: true,\n        isComparing: true,\n      };\n    }\n    case ActionType.ClearSelection: {\n      console.log(\"Clear selection\");\n      return {\n        cards: state.cards.map((card) => ({\n          ...card,\n          isSelected: false,\n          matchResult: null,\n        })),\n        isSelecting: false,\n        isComparing: false,\n      };\n    }\n    default:\n      return state;\n  }\n}\n\nexport default function Board(props: {\n  initialValues: CardValue[];\n  onMakeMovement: () => void;\n  onFinished: () => void;\n}) {\n  const { onMakeMovement, onFinished } = props;\n  const [state, dispatch] = useReducer(reducer, {\n    cards: [],\n    isSelecting: false,\n    isComparing: false,\n  });\n\n  useEffect(() => {\n    dispatch({\n      type: ActionType.SetInitialValues,\n      payload: { values: props.initialValues },\n    });\n  }, [props.initialValues]);\n\n  useEffect(() => {\n    if (state.isComparing) {\n      dispatch({ type: ActionType.CompareCards });\n      setTimeout(() => {\n        dispatch({ type: ActionType.ClearSelection });\n      }, 1200);\n      onMakeMovement();\n    }\n  }, [state.isComparing, onMakeMovement]);\n\n  useEffect(() => {\n    if (!state.isSelecting) {\n      console.log(\"Checking if finished\");\n      if (\n        state.cards.length > 0 &&\n        state.cards.filter((card) => card.isMatched).length ===\n          state.cards.length\n      ) {\n        console.log(\"Game finished\");\n        onFinished();\n      }\n    }\n  }, [state.isSelecting, state.cards, onFinished]);\n\n  function onSelectCardHandler(id: number) {\n    dispatch({ type: ActionType.SelectCard, payload: { id } });\n  }\n\n  console.log(\"render Board\");\n\n  return (\n    <div className={styles.cards}>\n      {state.cards.map((card: CardObject, i: number) => (\n        <Card\n          key={i}\n          data={card}\n          onSelect={!state.isComparing ? onSelectCardHandler : () => {}}\n        />\n      ))}\n    </div>\n  );\n}\n","export type CardValue = { groupId: number, content: string };\n\nexport const cardValues: CardValue[] = [\n  {groupId: 1, content: \"ðŸ˜‰\"},\n  {groupId: 2, content: \"ðŸ˜˜\"},\n  {groupId: 3, content: \"ðŸ˜±\"},\n  {groupId: 4, content: \"ðŸ˜‚\"},\n  {groupId: 5, content: \"ðŸ¥°\"},\n  {groupId: 6, content: \"ðŸ˜\"},\n  // {groupId: 7, content: \"ðŸ˜£\"},\n  {groupId: 8, content: \"ðŸ˜­\"},\n  {groupId: 9, content: \"ðŸ˜¡\"},\n  {groupId: 10, content: \"ðŸ˜„\"},\n  {groupId: 11, content: \"ðŸ¤ª\"},\n  {groupId: 12, content: \"ðŸ¤“\"},\n  {groupId: 13, content: \"ðŸ˜«\"},\n  // {groupId: 14, content: \"ðŸ¤”\"},\n  {groupId: 15, content: \"ðŸ˜€\"},\n  // {groupId: 16, content: \"ðŸ¤\"},\n  {groupId: 17, content: \"ðŸ˜Š\"},\n  {groupId: 18, content: \"ðŸ˜Ž\"},\n];\n","import { CardObject } from \"../types\";\nimport styles from \"./Card.module.css\";\n\nexport default function Card(props: {\n  data: CardObject;\n  onSelect: (id: number) => void;\n}) {\n  function onClickHandler() {\n    if (!props.data.isSelected) {\n      props.onSelect(props.data.id);\n    }\n  }\n\n  let matchResult = null;\n  if (props.data.matchResult === \"success\") {\n    matchResult = styles[\"match-success\"];\n  } else if (props.data.matchResult === \"failed\") {\n    matchResult = styles[\"match-failed\"];\n  }\n\n  return (\n    <div className={`${styles.card} ${matchResult}`} onClick={onClickHandler}>\n      {(props.data.isSelected || props.data.isMatched) && props.data.content}\n    </div>\n  );\n}\n","import styles from \"./Game.module.css\";\nimport { useCallback, useState } from \"react\";\nimport { cardValues, CardValue } from \"../card-values\";\nimport Board from \"./Board\";\n\nfunction getRandomInitialValues(): CardValue[] {\n  console.log(\"Get random initial values\");\n  return cardValues\n    .concat(cardValues)\n    .sort(() => (Math.random() > 0.5 ? 1 : -1));\n}\n\nexport default function Game() {\n  const [movementsMade, setMovementsMade] = useState<number>(0);\n  const [gameFinished, setGameFinished] = useState<boolean>(false);\n  const [initialValues, setInitialValues] = useState<CardValue[]>(\n    getRandomInitialValues()\n  );\n\n  const makeMovementHandler = useCallback(() => {\n    setMovementsMade((previous) => previous + 1);\n  }, []);\n\n  const finishedHandler = useCallback(() => {\n    setGameFinished(true);\n  }, []);\n\n  const clickRestartButtonHandler = useCallback(() => {\n    console.log(\"restart game\");\n    setInitialValues(getRandomInitialValues());\n    setMovementsMade(0);\n    setGameFinished(false);\n  }, []);\n\n  if (gameFinished) {\n    return (\n      <div className={styles[\"game-finished\"]}>\n        <div className={styles[\"game-finished__title\"]}>\n          Game Finished!!!!\n        </div>\n        <div className={styles[\"game-finished__movements-made\"]}>You made {movementsMade} movements</div>\n        <button className={styles[\"game-finished__btn-new-game\"]} onClick={clickRestartButtonHandler}>New game</button>\n      </div>\n    );\n  }\n\n  console.log(\"render Game\");\n\n  return (\n    <div className={styles.game}>\n      <div className={styles[\"game-controls\"]}>\n        <div className={styles[\"movements-counter\"]}>\n          Movements: {movementsMade}\n        </div>\n        <div className={styles[\"restart-game\"]}>\n          <button\n            className={styles[\"restart-game__button\"]}\n            onClick={clickRestartButtonHandler}\n          >\n            Reset\n          </button>\n        </div>\n      </div>\n      <Board\n        initialValues={initialValues}\n        onMakeMovement={makeMovementHandler}\n        onFinished={finishedHandler}\n      />\n    </div>\n  );\n}\n","import Game from \"./components/Game\";\nimport \"./index.css\";\n\nexport default function App() {\n  return <Game />;\n}\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"game-controls\":\"Game_game-controls__HABm_\",\"movements-counter\":\"Game_movements-counter__7_Hc1\",\"restart-game\":\"Game_restart-game__3otgN\",\"restart-game__button\":\"Game_restart-game__button__1QAyx\",\"game-finished\":\"Game_game-finished__2ZilH\",\"game-finished__title\":\"Game_game-finished__title__fn-EN\",\"game-finished__movements-made\":\"Game_game-finished__movements-made__1hoQB\",\"game-finished__btn-new-game\":\"Game_game-finished__btn-new-game__3VV7M\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__3F8np\",\"match-success\":\"Card_match-success___JW-y\",\"match-failed\":\"Card_match-failed__3PJ5I\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cards\":\"Board_cards__3foOL\"};"],"sourceRoot":""}