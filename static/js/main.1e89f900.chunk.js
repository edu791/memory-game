(this["webpackJsonpmemory-game"]=this["webpackJsonpmemory-game"]||[]).push([[0],{15:function(e,t,a){"use strict";a.r(t);var n,c=a(1),s=a.n(c),i=a(8),o=a.n(i),r=(a(7),a(4)),l=a(2),d=a.n(l),u=[{groupId:1,content:"\ud83d\ude09"},{groupId:2,content:"\ud83d\ude18"},{groupId:3,content:"\ud83d\ude31"},{groupId:4,content:"\ud83d\ude02"},{groupId:5,content:"\ud83e\udd70"},{groupId:6,content:"\ud83d\ude0f"},{groupId:8,content:"\ud83d\ude2d"},{groupId:9,content:"\ud83d\ude21"},{groupId:10,content:"\ud83d\ude04"},{groupId:11,content:"\ud83e\udd2a"},{groupId:12,content:"\ud83e\udd13"},{groupId:13,content:"\ud83d\ude2b"},{groupId:15,content:"\ud83d\ude00"},{groupId:17,content:"\ud83d\ude0a"},{groupId:18,content:"\ud83d\ude0e"}],m=a(3),g=a(9),f=a.n(g),h=a(5),_=a.n(h),j=a(0);function p(e){var t=null;return"success"===e.data.matchResult?t=_.a["match-success"]:"failed"===e.data.matchResult&&(t=_.a["match-failed"]),Object(j.jsx)("div",{className:"".concat(_.a.card," ").concat(t),onClick:function(){e.data.isSelected||e.onSelect(e.data.id)},children:(e.data.isSelected||e.data.isMatched)&&e.data.content})}function b(e,t){switch(t.type){case n.SetInitialValues:return console.log("Set initial values"),{cards:t.payload.values.map((function(e){return Object(m.a)(Object(m.a)({},e),{},{id:Math.round(1e6*Math.random()),isSelected:!1,isMatched:!1,matchResult:null})})),isSelecting:!1,isComparing:!1};case n.SelectCard:console.log("Select card");var a=e.cards.map((function(e){return e.id===t.payload.id?Object(m.a)(Object(m.a)({},e),{},{isSelected:!0}):e})),c=a.filter((function(e){return e.isSelected}));return{cards:a,isSelecting:!0,isComparing:2===c.length};case n.CompareCards:var s=e.cards.filter((function(e){return e.isSelected}));return console.log("Comparing selected cards",s),s[0].groupId===s[1].groupId?(console.log("Match"),s[0].isMatched=!0,s[0].matchResult="success",s[1].isMatched=!0,s[1].matchResult="success"):(console.log("Don't match"),s[0].matchResult="failed",s[1].matchResult="failed"),{cards:e.cards,isSelecting:!0,isComparing:!0};case n.ClearSelection:return console.log("Clear selection"),{cards:e.cards.map((function(e){return Object(m.a)(Object(m.a)({},e),{},{isSelected:!1,matchResult:null})})),isSelecting:!1,isComparing:!1};default:return e}}function C(e){var t=e.onMakeMovement,a=e.onFinished,s=Object(c.useReducer)(b,{cards:[],isSelecting:!1,isComparing:!1}),i=Object(r.a)(s,2),o=i[0],l=i[1];function d(e){l({type:n.SelectCard,payload:{id:e}})}return Object(c.useEffect)((function(){l({type:n.SetInitialValues,payload:{values:e.initialValues}})}),[e.initialValues]),Object(c.useEffect)((function(){o.isComparing&&(l({type:n.CompareCards}),setTimeout((function(){l({type:n.ClearSelection})}),1200),t())}),[o.isComparing,t]),Object(c.useEffect)((function(){o.isSelecting||(console.log("Checking if finished"),o.cards.length>0&&o.cards.filter((function(e){return e.isMatched})).length===o.cards.length&&(console.log("Game finished"),a()))}),[o.isSelecting,o.cards,a]),console.log("render Board"),Object(j.jsx)("div",{className:f.a.cards,children:o.cards.map((function(e,t){return Object(j.jsx)(p,{data:e,onSelect:o.isComparing?function(){}:d},t)}))})}function O(){return console.log("Get random initial values"),u.concat(u).sort((function(){return Math.random()>.5?1:-1}))}function S(){var e=Object(c.useState)(0),t=Object(r.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)(!1),i=Object(r.a)(s,2),o=i[0],l=i[1],u=Object(c.useState)(O()),m=Object(r.a)(u,2),g=m[0],f=m[1],h=Object(c.useCallback)((function(){n((function(e){return e+1}))}),[]),_=Object(c.useCallback)((function(){l(!0)}),[]),p=Object(c.useCallback)((function(){console.log("restart game"),f(O()),n(0),l(!1)}),[]);return o?Object(j.jsxs)("div",{className:d.a["game-finished"],children:[Object(j.jsx)("div",{className:d.a["game-finished__title"],children:"Game Finished!!!!"}),Object(j.jsxs)("div",{className:d.a["game-finished__movements-made"],children:["You made ",a," movements"]}),Object(j.jsx)("button",{className:d.a["game-finished__btn-new-game"],onClick:p,children:"New game"})]}):(console.log("render Game"),Object(j.jsxs)("div",{className:d.a.game,children:[Object(j.jsxs)("div",{className:d.a["game-controls"],children:[Object(j.jsxs)("div",{className:d.a["movements-counter"],children:["Movements: ",a]}),Object(j.jsx)("div",{className:d.a["restart-game"],children:Object(j.jsx)("button",{className:d.a["restart-game__button"],onClick:p,children:"Reset"})})]}),Object(j.jsx)(C,{initialValues:g,onMakeMovement:h,onFinished:_})]}))}function v(){return Object(j.jsx)(S,{})}!function(e){e[e.SetInitialValues=0]="SetInitialValues",e[e.SelectCard=1]="SelectCard",e[e.CompareCards=2]="CompareCards",e[e.ClearSelection=3]="ClearSelection"}(n||(n={}));var I=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,16)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),s(e),i(e)}))};o.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(v,{})}),document.getElementById("root")),I()},2:function(e,t,a){e.exports={"game-controls":"Game_game-controls__HABm_","movements-counter":"Game_movements-counter__7_Hc1","restart-game":"Game_restart-game__3otgN","restart-game__button":"Game_restart-game__button__1QAyx","game-finished":"Game_game-finished__2ZilH","game-finished__title":"Game_game-finished__title__fn-EN","game-finished__movements-made":"Game_game-finished__movements-made__1hoQB","game-finished__btn-new-game":"Game_game-finished__btn-new-game__3VV7M"}},5:function(e,t,a){e.exports={card:"Card_card__3F8np","match-success":"Card_match-success___JW-y","match-failed":"Card_match-failed__3PJ5I"}},7:function(e,t,a){},9:function(e,t,a){e.exports={cards:"Board_cards__3foOL"}}},[[15,1,2]]]);
//# sourceMappingURL=main.1e89f900.chunk.js.map